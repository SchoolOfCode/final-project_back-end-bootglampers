# Medi-Mate - BACK-END

There are many people who would like to meditate, but struggle to build that habit.

Our app uses gamification to encourage daily visits to build that meditation habit. Along with your chosen Medi-Mate, you will learn to breath and meditate alongside your new friend and keep them happy and healthy.

Looking for the [Front-end?](https://github.com/SchoolOfCode/medi-mate-front-end)

Live [website](https://medi-mate.netlify.app/)

## Installation

```bash
  git clone https://github.com/SchoolOfCode/final-project_back-end-bootglampers.git

  cd final-project_back-end-bootglampers

  npm i

```

## Run the back-end

To run the front end:

```bash
  npm run dev
```
This will open the project on localhost:19006 unless you specify a different PORT variable in your .env file.

This script will use nodemon, so it will watch your files for changes, and it will re-start the server whenever a change occurs.

Now your project will be running but you still won't be able to connect to the Heroku database, because you are missing the necessary database credentials.

If you want to connect to a database, first create an Heroku database [here](https://dashboard.heroku.com/apps).

Once you have created a database, grab the database URL, create .env file in your root directory and assign the database URL value to a variable called DATABASE_URL like so:

DATABASE_URL = secretdatabaseurl
you also might want to assign a different port in the .env file, like so:

PORT = 5000

If you have done all of the following things, stop your server and start it again (nodemon doesn't detect changes to your .env file) and it should all be working fine.



## Tech Stack

<div align="left">
<a href="https://nodejs.org/" target="_blank"><img style="margin: 10px" src="https://www.vectorlogo.zone/logos/nodejs/nodejs-horizontal.svg" alt="Node.js" height="50" /></a>
<a href="https://expressjs.com/" target="_blank"><img style="margin: 10px" src="https://svg2raster.fileformat.info/vlz.jsp?svg=%2Flogos%2Fexpressjs%2Fexpressjs-ar21.svg" alt="Express.js" height="50" /></a>
<a href="https://www.postgresql.org/" target="_blank"><img style="margin: 10px" src="https://profilinator.rishav.dev/skills-assets/postgresql-original-wordmark.svg" alt="PostgreSQL" height="50" /></a>
<a href="https://heroku.com" target="_blank"> <img style="margin: 10px" src="https://github.com/jalbertsr/logo-badge-images/blob/master/img/rsz_heroku.png?raw=true" alt="heroku" height="50"/> </a>
<a href="https://postman.com" target="_blank"> <img style="margin: 10px" src="https://www.vectorlogo.zone/logos/getpostman/getpostman-icon.svg" alt="postman" height="50"/> </a>
</div>

### The reasons behind the techstack we choose

We were familiar with the tech stack for our back-end, having used it previously in the course. We were already using new technologies on the front-end, so decided to play it safe on the back-end. Additionally, a relational database served our planned data structure.

The app we built is a meditation app. We needed an api that would allow us to store and retrieve information about users, the selections they make on the app and tracking their usage.

A PostgreSQL database made sense for our app, there wouldn't be a large number of routes and the information we were looking to store for each user was quite minimal.

We used Heroku to store our database and also used Heroku to host the back-end.


There are four linked tables, main user table capturing the id generated by firebase registration, the Medi-Mate table, that retains the name and age of your medi-mate character, the meditation log table that saves the details of frequency and length of meditation and finally, the mood log, that stores the daily moods that the user choses. All tables are linked with a foreign key.

The API performs various CRUD actions for six routes

- /api/registration/ -> initial post request to register a new user
- /api/register-pet/ -> post request when users names their Medi-Mate
- /api/pet-id/ -> get request to check user has a medi-mate registered and can divert the user to the main hub page, bypassing the medi-mate name process
- /api/meditation/ -> post request to log meditation length
- /api/stats/ -> get requests for number of visits, total meditation time, streak days used site, average mood logged, 
- /api/mood-log/ -> post when users logs how they are feeling

## Authors

- [@Emma Kennard](https://github.com/Elkennard)
- [@Raina Blackett](https://github.com/chocorainaaa)
- [@Lorentz Bloom](https://github.com/Lauro235)
- [@Lewis Parr](https://github.com/Le-w-is)
